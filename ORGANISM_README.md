# ğŸ§¬ ë‹¨ì„¸í¬ ìƒëª…ì²´ AI ì‹œìŠ¤í…œ

ì§„í™” ì‹œë®¬ë ˆì´í„°ì˜ ìƒëª…ì²´ ë° ì‹ ê²½ë§ ì‹œìŠ¤í…œ êµ¬í˜„

## ğŸ“ íŒŒì¼ êµ¬ì¡°

```
src/organism/
â”œâ”€â”€ Genome.ts              # ìœ ì „ì ì‹œìŠ¤í…œ
â”œâ”€â”€ Brain.ts               # ì‹ ê²½ë§ (AI ë‡Œ)
â”œâ”€â”€ Food.ts                # ìŒì‹ (ì—ë„ˆì§€ì›)
â”œâ”€â”€ Organism.ts            # ìƒëª…ì²´ í´ë˜ìŠ¤
â”œâ”€â”€ OrganismManager.ts     # ìƒëª…ì²´ ê´€ë¦¬ì
â””â”€â”€ index.ts               # ëª¨ë“ˆ ë‚´ë³´ë‚´ê¸°
```

## ğŸ§¬ ì£¼ìš” ì»´í¬ë„ŒíŠ¸

### 1. Genome (ìœ ì „ì)

ìƒëª…ì²´ì˜ ëª¨ë“  íŠ¹ì„±ì„ ì €ì¥í•˜ëŠ” ìœ ì „ì ì •ë³´ì…ë‹ˆë‹¤.

**íŠ¹ì„±:**
- **ì‹ ì²´**: í¬ê¸°, ì†ë„, ëŒ€ì‚¬ìœ¨
- **ê°ê°**: ì„¼ì„œ ë²”ìœ„, ì„¼ì„œ ê°œìˆ˜
- **ì™¸í˜•**: ìƒ‰ìƒ (HSL)
- **ë‡Œ**: ì€ë‹‰ì¸µ ê°œìˆ˜, ë‰´ëŸ° ê°œìˆ˜
- **ì§„í™”**: ëŒì—°ë³€ì´ìœ¨

**í•¨ìˆ˜:**
```typescript
createRandomGenome()              // ëœë¤ ìœ ì „ì ìƒì„±
mutateGenome(genome)              // ëŒì—°ë³€ì´ ì ìš©
crossoverGenome(parent1, parent2) // êµë°° (ìœ ì„±ìƒì‹)
```

### 2. Brain (ì‹ ê²½ë§)

ìƒëª…ì²´ì˜ í–‰ë™ì„ ê²°ì •í•˜ëŠ” AI ë‡Œì…ë‹ˆë‹¤.

**êµ¬ì¡°:**
- ì…ë ¥ì¸µ: 8ê°œ ë‰´ëŸ° (ì„¼ì„œ ë°ì´í„°)
- ì€ë‹‰ì¸µ: 1~3ì¸µ, ê° 4~16ê°œ ë‰´ëŸ°
- ì¶œë ¥ì¸µ: 2ê°œ ë‰´ëŸ° (ì „ì§„ë ¥, íšŒì „ë ¥)

**ì…ë ¥ (ì„¼ì„œ 8ê°œ):**
1-2. ê°€ì¥ ê°€ê¹Œìš´ ìŒì‹ ë°©í–¥ (cos, sin)
3. ìŒì‹ê¹Œì§€ ê±°ë¦¬ (ì •ê·œí™”)
4-5. ê°€ì¥ ê°€ê¹Œìš´ ìƒëª…ì²´ ë°©í–¥ (cos, sin)
6. ìƒëª…ì²´ê¹Œì§€ ê±°ë¦¬
7. í˜„ì¬ ì—ë„ˆì§€ ë ˆë²¨ (0~1)
8. í˜„ì¬ ì†ë„ (0~1)

**ì¶œë ¥ (í–‰ë™ 2ê°œ):**
1. ì „ì§„/í›„ì§„ í˜ (-1 ~ 1)
2. ì¢Œ/ìš° íšŒì „ (-1 ~ 1)

**ì£¼ìš” ë©”ì„œë“œ:**
```typescript
forward(inputs: number[]): number[]  // ìˆœì „íŒŒ (ìƒê°í•˜ê¸°)
clone(): Brain                       // ë‡Œ ë³µì œ
mutate(rate: number): void           // ëŒì—°ë³€ì´
```

### 3. Organism (ìƒëª…ì²´)

ì„¼ì„œë¡œ ê°ì§€í•˜ê³  ë‡Œë¡œ íŒë‹¨í•´ì„œ í–‰ë™í•˜ëŠ” ìƒëª…ì²´ì…ë‹ˆë‹¤.

**ìƒíƒœ:**
- ìœ„ì¹˜ (x, y), ì†ë„, ë°©í–¥
- ì—ë„ˆì§€ (0~100)
- ë‚˜ì´, ìƒì¡´ ì—¬ë¶€

**ìƒëª… ì£¼ê¸°:**
```typescript
sense()      // ì£¼ë³€ í™˜ê²½ ê°ì§€
think()      // ë‡Œë¡œ íŒë‹¨
act()        // í–‰ë™ ì‹¤í–‰
eat()        // ìŒì‹ ë¨¹ê¸°
reproduce()  // ë²ˆì‹ (ë¬´ì„±ìƒì‹)
update()     // ë§¤ í”„ë ˆì„ ì—…ë°ì´íŠ¸
```

**ì—ë„ˆì§€ ì†Œë¹„:**
- ê¸°ë³¸ ëŒ€ì‚¬: ëŒ€ì‚¬ìœ¨ì— ë¹„ë¡€
- ì´ë™ ë¹„ìš©: ì†ë„ì™€ í¬ê¸°ì— ë¹„ë¡€
- í¬ê¸° ìœ ì§€: í¬ê¸°ì— ë¹„ë¡€

**ë²ˆì‹ ì¡°ê±´:**
- ì—ë„ˆì§€ 70% ì´ìƒ
- ë‚˜ì´ 500 í‹± ì´ìƒ
- ë²ˆì‹ì‹œ ì—ë„ˆì§€ 40% ì†Œë¹„

### 4. Food (ìŒì‹)

ìƒëª…ì²´ê°€ ë¨¹ì„ ìˆ˜ ìˆëŠ” ì—ë„ˆì§€ ê³µê¸‰ì›ì…ë‹ˆë‹¤.

```typescript
new Food(x, y, energy)  // ìŒì‹ ìƒì„±
consume()               // ë¨¹ê¸°
```

### 5. OrganismManager (ê´€ë¦¬ì)

ì „ì²´ ì‹œë®¬ë ˆì´ì…˜ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.

**ê¸°ëŠ¥:**
- ìƒëª…ì²´/ìŒì‹ ìƒì„± ë° ê´€ë¦¬
- ë§¤ í”„ë ˆì„ ì—…ë°ì´íŠ¸
- ìŒì‹ ìë™ ìƒì„±
- í†µê³„ ì •ë³´ ì œê³µ

## ğŸš€ ì‚¬ìš© ì˜ˆì œ

### ê¸°ë³¸ ì‚¬ìš©ë²•

```typescript
import { OrganismManager } from './organism';

// ë§¤ë‹ˆì € ìƒì„± (ì›”ë“œ í¬ê¸°: 2000x2000)
const manager = new OrganismManager(2000, 2000);

// ì´ˆê¸° ìƒëª…ì²´ 20ê°œ ìƒì„±
manager.spawnInitialOrganisms(20);

// ì´ˆê¸° ìŒì‹ 100ê°œ ìƒì„±
manager.spawnFood(100);

// ìŒì‹ ìë™ ìƒì„± ì„¤ì • (ì´ˆë‹¹ 2ê°œ, ìµœëŒ€ 150ê°œ)
manager.setFoodSpawnRate(2);
manager.setMaxFood(150);

// ì‹œë®¬ë ˆì´ì…˜ ë£¨í”„ (60 FPS)
setInterval(() => {
  manager.update(1); // delta = 1 í‹±

  // í†µê³„ í™•ì¸
  const stats = manager.getStatistics();
  console.log(`ìƒì¡´: ${stats.aliveOrganisms}, ì„¸ëŒ€: ${stats.generation}`);
}, 1000 / 60);
```

### ê°œë³„ ìƒëª…ì²´ ì œì–´

```typescript
import { Organism, createRandomGenome } from './organism';

// ìƒëª…ì²´ ìƒì„±
const genome = createRandomGenome();
const organism = new Organism(100, 100, genome);

// ì£¼ë³€ ê°ì§€
organism.sense(nearbyOrganisms, nearbyFood);

// ìƒê°í•˜ê³  í–‰ë™
organism.think();
organism.act();

// ì—ë„ˆì§€ ì†Œë¹„
organism.update(1);

// ë²ˆì‹
if (organism.canReproduce()) {
  const child = organism.reproduce();
}
```

### ìœ ì „ì ì¡°ì‘

```typescript
import { createRandomGenome, mutateGenome, crossoverGenome } from './organism';

// ëœë¤ ìœ ì „ì
const genome1 = createRandomGenome();

// ëŒì—°ë³€ì´
const mutated = mutateGenome(genome1);

// êµë°°
const genome2 = createRandomGenome();
const child = crossoverGenome(genome1, genome2);
```

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹¤í–‰

ì½˜ì†”ì—ì„œ ê¸°ë³¸ ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰:

```bash
npx ts-node src/examples/basic-simulation.ts
```

60ì´ˆê°„ ì‹¤í–‰ë˜ë©° 10ì´ˆë§ˆë‹¤ í†µê³„ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.

## ğŸ“Š ì§„í™” ê´€ì°°

ì‹œê°„ì´ ì§€ë‚˜ë©´ì„œ ë‹¤ìŒê³¼ ê°™ì€ ì§„í™”ë¥¼ ê´€ì°°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

1. **ìŒì‹ ì°¾ê¸°**: ìŒì‹ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì°¾ëŠ” í–‰ë™ íŒ¨í„´
2. **ì—ë„ˆì§€ ê´€ë¦¬**: ë¶ˆí•„ìš”í•œ ì›€ì§ì„ ê°ì†Œ
3. **ìƒì¡´ ì „ëµ**: ë” ì˜¤ë˜ ì‚´ì•„ë‚¨ëŠ” ìœ ì „ì ì¡°í•©
4. **ë²ˆì‹ ì„±ê³µ**: ë²ˆì‹ì— ì„±ê³µí•˜ëŠ” ê°œì²´ë“¤ì˜ íŠ¹ì„±

## âš™ï¸ íŒŒë¼ë¯¸í„° ì¡°ì •

### ìƒëª…ì²´ íŠ¹ì„± ë²”ìœ„
- í¬ê¸°: 0.5 ~ 2.0 (ê¸°ë³¸ 1.0)
- ì†ë„: 0.5 ~ 2.0 (ê¸°ë³¸ 1.0)
- ëŒ€ì‚¬ìœ¨: 0.5 ~ 2.0 (ê¸°ë³¸ 1.0)
- ì„¼ì„œ ë²”ìœ„: 50 ~ 200 í”½ì…€
- ëŒì—°ë³€ì´ìœ¨: 0.01 ~ 0.1 (1% ~ 10%)

### ë‡Œ êµ¬ì¡°
- ì…ë ¥: 8ê°œ (ê³ ì •)
- ì€ë‹‰ì¸µ: 1~3ì¸µ
- ë‰´ëŸ°: 4~16ê°œ/ì¸µ
- ì¶œë ¥: 2ê°œ (ê³ ì •)

### ì‹œë®¬ë ˆì´ì…˜ ì„¤ì •
```typescript
manager.setFoodSpawnRate(2);   // ìŒì‹ ìƒì„± ì†ë„
manager.setMaxFood(150);        // ìµœëŒ€ ìŒì‹ ê°œìˆ˜
```

## ğŸ”§ ì»¤ìŠ¤í„°ë§ˆì´ì§•

### ì„¼ì„œ ì¶”ê°€í•˜ê¸°

`Organism.ts`ì˜ `sense()` ë©”ì„œë“œë¥¼ ìˆ˜ì •í•˜ì—¬ ìƒˆë¡œìš´ ì„¼ì„œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```typescript
// ì˜ˆ: ë²½ê¹Œì§€ì˜ ê±°ë¦¬ ì¶”ê°€
inputs[8] = organism.x / worldWidth; // ì™¼ìª½ ë²½
inputs[9] = organism.y / worldHeight; // ìœ„ìª½ ë²½
```

### í–‰ë™ ì¶”ê°€í•˜ê¸°

`Brain.ts`ì˜ ì¶œë ¥ í¬ê¸°ë¥¼ ëŠ˜ë¦¬ê³  `Organism.ts`ì˜ `act()` ë©”ì„œë“œë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤:

```typescript
// ì˜ˆ: ê³µê²© í–‰ë™ ì¶”ê°€
const outputs = this.brain.forward(this.sensorInputs);
this.moveForce = outputs[0];
this.turnForce = outputs[1];
this.attackForce = outputs[2]; // ìƒˆë¡œìš´ í–‰ë™
```

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

1. **ë Œë”ë§ ì—°ê²°**: ìƒëª…ì²´ë¥¼ í™”ë©´ì— í‘œì‹œ
2. **ì¶©ëŒ ì²˜ë¦¬**: ìƒëª…ì²´ë¼ë¦¬ ì¶©ëŒ
3. **í¬ì‹ì-í”¼ì‹ì**: ë¨¹ì´ ì‚¬ìŠ¬ êµ¬í˜„
4. **ìœ ì„±ìƒì‹**: ë‘ ë¶€ëª¨ì˜ ìœ ì „ì ê²°í•©
5. **ì¢… ë¶„í™”**: ë¹„ìŠ·í•œ ìœ ì „ìë¼ë¦¬ ê·¸ë£¹í™”

## ğŸ“ ì°¸ê³ 

- í™œì„±í™” í•¨ìˆ˜: `tanh` (ì¶œë ¥ ë²”ìœ„ -1 ~ 1)
- ê°€ì¤‘ì¹˜ ì´ˆê¸°í™”: Xavier ì´ˆê¸°í™”
- ì§„í™” ë°©ì‹: ëŒì—°ë³€ì´ ê¸°ë°˜ ë¬´ì„±ìƒì‹
- ì—ë„ˆì§€ ì‹œìŠ¤í…œ: ìŒì‹ ì„­ì·¨ ë° ì†Œë¹„
